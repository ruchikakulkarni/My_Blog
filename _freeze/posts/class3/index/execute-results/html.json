{
  "hash": "6835b63fa22649ffd2558ceb31e54213",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Class3\"\nauthor: \"ruchika\"\nformat: html\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n:::\n\n\n\n#gg(grammar of graphics), viridis - colours that we get from the gg package\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntaxi <- read_csv(\"https://vincentarelbundock.github.io/Rdatasets/csv/modeldata/taxi.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 10000 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): tip, company, local, dow, month\ndbl (3): rownames, distance, hour\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\ntaxi\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10,000 × 8\n   rownames tip   distance company                      local dow   month  hour\n      <dbl> <chr>    <dbl> <chr>                        <chr> <chr> <chr> <dbl>\n 1        1 yes      17.2  Chicago Independents         no    Thu   Feb      16\n 2        2 yes       0.88 City Service                 yes   Thu   Mar       8\n 3        3 yes      18.1  other                        no    Mon   Feb      18\n 4        4 yes      20.7  Chicago Independents         no    Mon   Apr       8\n 5        5 yes      12.2  Chicago Independents         no    Sun   Mar      21\n 6        6 yes       0.94 Sun Taxi                     yes   Sat   Apr      23\n 7        7 yes      17.5  Flash Cab                    no    Fri   Mar      12\n 8        8 yes      17.7  other                        no    Sun   Jan       6\n 9        9 yes       1.85 Taxicab Insurance Agency Llc no    Fri   Apr      12\n10       10 yes       1.47 City Service                 no    Tue   Mar      14\n# ℹ 9,990 more rows\n```\n\n\n:::\n:::\n\n\n\n#Data munging - mutating, ordered - is basically putting the data according to the specific order instead of alphabetical order.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Convert `dow`, `local`, and `month` into ordered factors\ntaxi_modified <- taxi %>%\n  mutate(\n    dow = factor(dow,\n      levels = c(\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"),\n      labels = c(\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"),\n      ordered = TRUE\n    ),\n    ##\n    local = factor(local,\n      levels = c(\"no\", \"yes\"),\n      labels = c(\"no\", \"yes\"),\n      ordered = TRUE\n    ),\n    ##\n    month = factor(month,\n      levels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\"),\n      labels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\"),\n      ordered = TRUE\n    )\n  )\ntaxi_modified %>% glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 10,000\nColumns: 8\n$ rownames <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ tip      <chr> \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\", \"yes\"…\n$ distance <dbl> 17.19, 0.88, 18.11, 20.70, 12.23, 0.94, 17.47, 17.67, 1.85, 1…\n$ company  <chr> \"Chicago Independents\", \"City Service\", \"other\", \"Chicago Ind…\n$ local    <ord> no, yes, no, no, no, yes, no, no, no, no, no, no, no, yes, no…\n$ dow      <ord> Thu, Thu, Mon, Mon, Sun, Sat, Fri, Sun, Fri, Tue, Tue, Sun, W…\n$ month    <ord> Feb, Mar, Feb, Apr, Mar, Apr, Mar, Jan, Apr, Mar, Mar, Apr, A…\n$ hour     <dbl> 16, 8, 18, 8, 21, 23, 12, 6, 12, 14, 18, 11, 12, 19, 17, 13, …\n```\n\n\n:::\n:::\n\n\n\n#So the tip is on the x-axis, count on y-axis which I don't need to take care of since it's plotted by gf_bar, and colour is local. From this data, one could say that non-local trips are tipped the most. Hypothesis could be - maybe local trips are very short distance, thus passengers don't feel the need to tip OR non-local tip the most because they come to that area as a tourist and are having a fun time thus tip better.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##\ntaxi_modified %>%\n  gf_bar(~tip,\n    fill = ~local,\n    position = \"dodge\"\n  ) %>%\n  gf_labs(title = \"Plot 2A: Dodged Bar Chart\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\\# 3 Types of Positions - fill (becomes 100% and is proportionally based), stack (one over another), dodge (side by side)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##\ntaxi_modified %>%\n  gf_bar(~local,\n    fill = ~tip,\n    position = \"fill\"\n  ) %>%\n  gf_labs(\n    title = \"Plot 2B: Stacked Bar Chart\",\n    subtitle = \"Can we spot per group differences in proportions??\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n#hjust is horizontal justification, basically position of the text written on x-axis, angle of the same.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##\ntaxi_modified %>%\n  gf_bar(~company,\n    fill = ~tip,\n    position = \"fill\"\n  ) %>%\n  gf_labs(title = \"Plot 2A: Dodged Bar Chart\") %>%\n  gf_theme(theme(axis.text.x = element_text(size = 6, angle = 45, hjust = 1)))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n#Can say tips are given the most at 2/4 am. Hypothesis could be, it's a time that most passengers feel unsafe (can see many aspects women being unsafe, people being unsafe since many accidents occur at this hour) thus after having a normal, safe ride they feel the need to tip more for their.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Set graph theme\n# theme_set(new = theme_custom())\n##\ngf_bar(~hour, fill = ~tip, data = taxi_modified, position = \"fill\" ) %>%\n  gf_labs(title = \"Plot B: Counts of Tips by Hour\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n#Sunday is the most tips cause SUNDAY IS FUNDAY.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##\ngf_bar(~dow, fill = ~tip, position =\"fill\", data = taxi_modified) %>%\n  gf_labs(title = \"Plot C: Counts of Tips by Day of Week\")#\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n#April has the most tips\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##\ngf_bar(~month, fill = ~tip,position =\"fill\", data = taxi_modified) %>%\n  gf_labs(title = \"Plot D: Counts of Tips by Month\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n#Monday,Tue,Wed,Thu of April has most tips.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##\ngf_bar(~ month | dow, fill = ~tip, data = taxi_modified, position =\"fill\") %>%\n  gf_labs(title = \"Plot E: Counts of Tips by Day of Week and Month\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n##\n## This may be too busy a graph...\ngf_bar(~ dow , fill = ~tip, data = taxi_modified, position = \"fill\") %>%\n  gf_labs(\n    title = \"Plot F: Counts of Tips by Hour and Day of Week\",\n    subtitle = \"Is this plot arrangement easy to grasp?\"\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\n## APARTMENT DATA (Your Turn)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility <- read_csv(\"../../data/Fertility.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 254654 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (6): morekids, gender1, gender2, afam, hispanic, other\ndbl (3): rownames, age, work\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nFertility\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 254,654 × 9\n   rownames morekids gender1 gender2   age afam  hispanic other  work\n      <dbl> <chr>    <chr>   <chr>   <dbl> <chr> <chr>    <chr> <dbl>\n 1        1 no       male    female     27 no    no       no        0\n 2        2 no       female  male       30 no    no       no       30\n 3        3 no       male    female     27 no    no       no        0\n 4        4 no       male    female     35 yes   no       no        0\n 5        5 no       female  female     30 no    no       no       22\n 6        6 no       male    female     26 no    no       no       40\n 7        7 no       female  male       29 no    no       no        0\n 8        8 no       male    male       33 no    no       no       52\n 9        9 no       female  male       29 no    no       no        0\n10       10 no       male    female     27 no    no       no        0\n# ℹ 254,644 more rows\n```\n\n\n:::\n:::\n\n\n\n#Turned to factor since they can be categorized, eg - yes/no , male/female\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified <- Fertility %>% dplyr::mutate(\n  morekids = as_factor(morekids),\n  gender1 = as_factor(gender1),\n  gender2 = as_factor(gender2),\n  afam = as_factor(afam),\n  hispanic = as_factor(hispanic),\n  other = as_factor(other)\n)\n\nglimpse(Fertility_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 254,654\nColumns: 9\n$ rownames <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ morekids <fct> no, no, no, no, no, no, no, no, no, no, yes, no, no, no, no, …\n$ gender1  <fct> male, female, male, male, female, male, female, male, female,…\n$ gender2  <fct> female, male, female, female, female, female, male, male, mal…\n$ age      <dbl> 27, 30, 27, 35, 30, 26, 29, 33, 29, 27, 28, 28, 35, 34, 32, 2…\n$ afam     <fct> no, no, no, yes, no, no, no, no, no, no, no, no, no, no, no, …\n$ hispanic <fct> no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, n…\n$ other    <fct> no, no, no, no, no, no, no, no, no, no, no, no, no, no, no, n…\n$ work     <dbl> 0, 30, 0, 0, 22, 40, 0, 52, 0, 0, 0, 52, 52, 52, 8, 7, 0, 40,…\n```\n\n\n:::\n:::\n\n\n\n#So showcases how male bars are generally taller thus indicating a male-dominant trends in those age groups\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n##\nFertility_modified %>%\n  gf_bar(~age,\n    fill = ~gender2,\n    position = \"dodge\"\n  ) %>%\n  gf_labs(title = \"Plot 1:AGE AND GENDER2\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n#Showcases how number of hispanic people is lesser than number of hispanic people who want kids whereas it opposite in non-hispanic people.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified %>%\n  gf_bar(~hispanic,\n    fill = ~morekids,\n    position = \"dodge\"\n  ) %>%\n  gf_labs(title = \"Plot 1:AGE AND GENDER2\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\n#After a certain age, there is a decline in wanting kids (32-35) also there is an initial decline during the age of 20-24\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nFertility_modified %>%\n  gf_bar(~age,\n    fill = ~morekids,\n    position = \"dodge\"\n  ) %>%\n  gf_labs(title = \"Plot 1:AGE AND GENDER2\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}